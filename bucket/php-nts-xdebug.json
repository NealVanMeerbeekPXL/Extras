{
    "version": "3.4.0-8.4",
    "description": "An extension for PHP to assist with debugging and development. (Non Thread Safe)",
    "homepage": "https://xdebug.org/",
    "license": {
        "identifier": "Xdebug-1.01",
        "url": "https://xdebug.org/license.php"
    },
    "notes": [
        "Xdebug is already enabled if PHP (Non Thread Safe) was installed through scoop!",
        "Otherwise add '$dir\\php_xdebug.dll' to your php.ini"
    ],
    "architecture": {
        "64bit": {
            "url": "https://xdebug.org/files/php_xdebug-3.4.0-8.4-vs17-nts-x86_64.dll#/php_xdebug.dll",
            "hash": "da7017e5b67c8aa6edbc29ee3126413a3a282f05199b417c0d6d2d14624029b0"
        }
    },
    "post_install": [
        "$phpcli = \"$persist_dir\\..\\php-nts\\cli\"",
        "$ini = \"zend_extension=$dir\\php_xdebug.dll`n[xdebug]`nxdebug.mode=debug`nxdebug.start_with_request=yes`nxdebug.discover_client_host=true\"",
        "if (!(Test-Path \"$phpcli\")) {",
        "    Write-Host -f Yellow \"PHP was not installed through scoop, you have to activate php_xdebug.dll manually! Add the following:`n\"",
        "    Write-Host -f Cyan \"$ini`n`n\"",
        "} else {",
        "    if (Test-Path \"$phpcli\\conf.d\\xdebug.ini\") {",
        "        Write-Output \"No XDebug config was added, as xdebug.ini already exists in $phpcli\\conf.d\\xdebug.ini\"",
        "    } else {",
        "        Write-Output \"Enabling extension $phpcli\\conf.d\\xdebug.ini\"",
        "        Add-Content -Value $ini -Path \"$phpcli\\conf.d\\xdebug.ini\"",
        "    }",
        "}"
    ],
    "checkver": {
        "url": "https://xdebug.org/download",
        "regex": "php_xdebug-([\\d.]+-8\\.4)-vs17-nts-x86_64\\.dll"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://xdebug.org/files/php_xdebug-$version-vs17-nts-x86_64.dll#/php_xdebug.dll",
                "hash": {
                    "url": "https://xdebug.org/download",
                    "regex": "SHA256:&nbsp;([0-9a-f]+)\" href='\\/files/php_xdebug-$version-vs17-nts-x86_64\\.dll"
                }
            }
        }
    }
}
